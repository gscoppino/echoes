!function e(t,n,i){function a(o,r){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!r&&s)return s(o,!0);if(l)return l(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return a(n?n:e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var l="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){!function(e,t){"use strict";function n(e){if(!("clientX"in e||"clientY"in e)){var t=e.touches||e.originalEvent.touches;t&&t.length&&(e.clientX=t[0].clientX,e.clientY=t[0].clientY),e.preventDefault()}}function i(e){if(e=e[0],e.previousElementSibling)return t.element(e.previousElementSibling);for(var n=e.previousSibling;null!=n&&1!=n.nodeType;)n=n.previousSibling;return t.element(n)}function a(e,t){var n=i(e);n.length>0?n.after(t):e.parent().prepend(t)}function l(e,n){return e instanceof t.element&&(e=e[0]),null!==s?e[s](n):void 0}var o=t.module("angular-sortable-view",[]);o.directive("svRoot",[function(){function e(e,t,n){return n?e.x-t.x<0:e.y-t.y<0}function t(e){return o[e]}function n(e){delete o[e]}var i,o=Object.create(null);return{restrict:"A",controller:["$scope","$attrs","$interpolate","$parse",function(r,s,u,c){var d=u(s.svRoot)(r)||r.$id;o[d]||(o[d]=[]);var p,f,v,y,h,m,g=!1,b=c(s.svOnSort);s.svOnStart=s.$$element[0].attributes["sv-on-start"],s.svOnStart=s.svOnStart&&s.svOnStart.value,s.svOnStop=s.$$element[0].attributes["sv-on-stop"],s.svOnStop=s.svOnStop&&s.svOnStop.value;var P=c(s.svOnStart),w=c(s.svOnStop);if(this.sortingInProgress=function(){return i},s.svGrid){if(g="true"===s.svGrid?!0:"false"===s.svGrid?!1:null,null===g)throw"Invalid value of sv-grid attribute"}else r.$watchCollection(function(){return t(d)},function(e){g=!1;var t=e.filter(function(e){return!e.container}).map(function(e){return{part:e.getPart().id,y:e.element[0].getBoundingClientRect().top}}),n=Object.create(null);t.forEach(function(e){n[e.part]?n[e.part].push(e.y):n[e.part]=[e.y]}),Object.keys(n).forEach(function(e){n[e].sort(),n[e].forEach(function(t,i){i<n[e].length-1&&t>0&&t===n[e][i+1]&&(g=!0)})})});this.$moveUpdate=function(n,o,s,u,c,b,w){var S=s[0].getBoundingClientRect();"element"===n.tolerance&&(o={x:~~(S.left+S.width/2),y:~~(S.top+S.height/2)}),i=!0,p=[],f||(c?(f=c.clone(),f.removeClass("ng-hide")):(f=u.clone(),f.addClass("sv-visibility-hidden"),f.addClass("sv-placeholder"),f.css({height:S.height+"px",width:S.width+"px"})),u.after(f),u.addClass("ng-hide"),h=u,v=n,y=s,P(r,{$helper:{element:y},$part:b.model(b.scope),$index:w,$item:b.model(b.scope)[w]}),r.$root&&r.$root.$$phase||r.$apply()),y[0].reposition({x:o.x+document.body.scrollLeft-o.offset.x*S.width,y:o.y+document.body.scrollTop-o.offset.y*S.height}),t(d).forEach(function(t,i){if(null==n.containment||l(t.element,n.containment)||l(t.element,n.containment+" *")){var a=t.element[0].getBoundingClientRect(),r={x:~~(a.left+a.width/2),y:~~(a.top+a.height/2)};t.container||!t.element[0].scrollHeight&&!t.element[0].scrollWidth||p.push({element:t.element,q:(r.x-o.x)*(r.x-o.x)+(r.y-o.y)*(r.y-o.y),view:t.getPart(),targetIndex:t.getIndex(),after:e(r,o,g)}),t.container&&!t.element[0].querySelector("[sv-element]:not(.sv-placeholder):not(.sv-source)")&&p.push({element:t.element,q:(r.x-o.x)*(r.x-o.x)+(r.y-o.y)*(r.y-o.y),view:t.getPart(),targetIndex:0,container:!0})}});var k=f[0].getBoundingClientRect(),_={x:~~(k.left+k.width/2),y:~~(k.top+k.height/2)};p.push({q:(_.x-o.x)*(_.x-o.x)+(_.y-o.y)*(_.y-o.y),element:f,placeholder:!0}),p.sort(function(e,t){return e.q-t.q}),p.forEach(function(e,t){0!==t||e.placeholder||e.container?0===t&&e.container?(m=e,e.element.append(f)):e.element.removeClass("sv-candidate"):(m=e,e.element.addClass("sv-candidate"),e.after?e.element.after(f):a(e.element,f))})},this.$drop=function(e,t,n){function a(){if(i=!1,f.remove(),y.remove(),h.removeClass("ng-hide"),p=void 0,f=void 0,n=void 0,y=void 0,h=void 0,w(r,{$part:e.model(e.scope),$index:t,$item:e.model(e.scope)[t]}),m){m.element.removeClass("sv-candidate");var a=e.model(e.scope).splice(t,1),l=m.targetIndex;m.view===e&&m.targetIndex>t&&l--,m.after&&l++,m.view.model(m.view.scope).splice(l,0,a[0]),m.view===e&&t===l||b(r,{$partTo:m.view.model(m.view.scope),$partFrom:e.model(e.scope),$item:a[0],$indexTo:l,$indexFrom:t})}m=void 0,r.$root&&r.$root.$$phase||r.$apply()}if(f)if(n.revert){var l=f[0].getBoundingClientRect(),o=y[0].getBoundingClientRect(),s=Math.sqrt(Math.pow(o.top-l.top,2)+Math.pow(o.left-l.left,2)),u=+n.revert*s/200;u=Math.min(u,+n.revert),["-webkit-","-moz-","-ms-","-o-",""].forEach(function(e){"undefined"!=typeof y[0].style[e+"transition"]&&(y[0].style[e+"transition"]="all "+u+"ms ease")}),setTimeout(a,u),y.css({top:l.top+document.body.scrollTop+"px",left:l.left+document.body.scrollLeft+"px"})}else a()},this.addToSortableElements=function(e){t(d).push(e)},this.removeFromSortableElements=function(e){var i=t(d),a=i.indexOf(e);a>-1&&(i.splice(a,1),0===i.length&&n(d))}}]}}]),o.directive("svPart",["$parse",function(e){return{restrict:"A",require:"^svRoot",controller:["$scope",function(e){e.$ctrl=this,this.getPart=function(){return e.part},this.$drop=function(t,n){e.$sortableRoot.$drop(e.part,t,n)}}],scope:!0,link:function(t,n,i,a){if(!i.svPart)throw new Error("no model provided");var l=e(i.svPart);if(!l.assign)throw new Error("model not assignable");t.part={id:t.$id,element:n,model:l,scope:t},t.$sortableRoot=a;var o={element:n,getPart:t.$ctrl.getPart,container:!0};a.addToSortableElements(o),t.$on("$destroy",function(){a.removeFromSortableElements(o)})}}}]),o.directive("svElement",["$parse",function(e){return{restrict:"A",require:["^svPart","^svRoot"],controller:["$scope",function(e){e.$ctrl=this}],link:function(i,a,l,o){function r(r){function s(e){n(e),f||(a.parent().prepend(h),f=!0),o[1].$moveUpdate(c,{x:e.clientX,y:e.clientY,offset:b},h,a,p,o[0].getPart(),i.$index)}if(n(r),!o[1].sortingInProgress()&&(0==r.button||"mousedown"!==r.type)){f=!1;var c=e(l.svElement)(i);if(c=t.extend({},{tolerance:"pointer",revert:200,containment:"html"},c),c.containment)var y=u.call(a,c.containment)[0].getBoundingClientRect();var h,m=a,g=a[0].getBoundingClientRect();d||(d=o[0].helper),p||(p=o[0].placeholder),d?(h=d.clone(),h.removeClass("ng-hide"),h.css({left:g.left+document.body.scrollLeft+"px",top:g.top+document.body.scrollTop+"px"}),m.addClass("sv-visibility-hidden")):(h=m.clone(),h.addClass("sv-helper").css({left:g.left+document.body.scrollLeft+"px",top:g.top+document.body.scrollTop+"px",width:g.width+"px"})),h[0].reposition=function(e){var t=e.x,n=e.y,i=h[0].getBoundingClientRect(),a=document.body;y&&(n<y.top+a.scrollTop&&(n=y.top+a.scrollTop),n+i.height>y.top+a.scrollTop+y.height&&(n=y.top+a.scrollTop+y.height-i.height),t<y.left+a.scrollLeft&&(t=y.left+a.scrollLeft),t+i.width>y.left+a.scrollLeft+y.width&&(t=y.left+a.scrollLeft+y.width-i.width)),this.style.left=t-a.scrollLeft+"px",this.style.top=n-a.scrollTop+"px"};var b={x:(r.clientX-g.left)/g.width,y:(r.clientY-g.top)/g.height};v.addClass("sv-sorting-in-progress"),v.on("mousemove touchmove",s).on("mouseup touchend touchcancel",function P(e){v.off("mousemove touchmove",s),v.off("mouseup touchend",P),v.removeClass("sv-sorting-in-progress"),f?o[0].$drop(i.$index,c):a.removeClass("sv-visibility-hidden")})}}var s={element:a,getPart:o[0].getPart,getIndex:function(){return i.$index}};o[1].addToSortableElements(s),i.$on("$destroy",function(){o[1].removeFromSortableElements(s)});var c=a;c.on("mousedown touchstart",r),i.$watch("$ctrl.handle",function(e){e&&(c.off("mousedown touchstart",r),c=e,c.on("mousedown touchstart",r))});var d;i.$watch("$ctrl.helper",function(e){e&&(d=e)});var p;i.$watch("$ctrl.placeholder",function(e){e&&(p=e)});var f,v=(t.element(document.body),t.element(document.documentElement))}}}]),o.directive("svHandle",function(){return{require:"?^svElement",link:function(e,t,n,i){i&&(i.handle=t.add(i.handle))}}}),o.directive("svHelper",function(){return{require:["?^svPart","?^svElement"],link:function(e,t,n,i){t.addClass("sv-helper").addClass("ng-hide"),i[1]?i[1].helper=t:i[0]&&(i[0].helper=t)}}}),o.directive("svPlaceholder",function(){return{require:["?^svPart","?^svElement"],link:function(e,t,n,i){t.addClass("sv-placeholder").addClass("ng-hide"),i[1]?i[1].placeholder=t:i[0]&&(i[0].placeholder=t)}}}),t.element(document.head).append(["<style>.sv-helper{position: fixed !important;z-index: 99999;margin: 0 !important;}.sv-candidate{}.sv-placeholder{}.sv-sorting-in-progress{-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}.sv-visibility-hidden{visibility: hidden !important;opacity: 0 !important;}</style>"].join(""));var r=document.documentElement,s=r.matches?"matches":r.matchesSelector?"matchesSelector":r.webkitMatches?"webkitMatches":r.webkitMatchesSelector?"webkitMatchesSelector":r.msMatches?"msMatches":r.msMatchesSelector?"msMatchesSelector":r.mozMatches?"mozMatches":r.mozMatchesSelector?"mozMatchesSelector":null;if(null==s)throw"This browser doesn't support the HTMLElement.matches method";var u=t.element.prototype.closest||function(e){for(var n=this[0].parentNode;n!==document.documentElement&&!n[s](e);)n=n.parentNode;return n[s](e)?t.element(n):t.element()};"function"!=typeof t.element.prototype.add&&(t.element.prototype.add=function(e){var n,i=t.element();for(e=t.element(e),n=0;n<this.length;n++)i.push(this[n]);for(n=0;n<e.length;n++)i.push(e[n]);return i})}(window,window.angular)},{}],2:[function(e,t,n){var i;i=angular.module("infinite-scroll",[]),i.value("THROTTLE_MILLISECONDS",null),i.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(e,t,n,i){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(a,l,o){var r,s,u,c,d,p,f,v,y,h,m,g,b,P,w,S,k,_,$;return $=angular.element(t),P=null,w=null,u=null,c=null,m=!0,_=!1,k=null,s=!1,h=function(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight},g=function(e){return e[0].getBoundingClientRect&&!e.css("none")?e[0].getBoundingClientRect().top+b(e):void 0},b=function(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset},y=function(){var t,i,o,r,d;return c===$?(t=h(c)+b(c[0].document.documentElement),o=g(l)+h(l)):(t=h(c),i=0,void 0!==g(c)&&(i=g(c)),o=g(l)-i+h(l)),_&&(o=h((l[0].ownerDocument||l[0].document).documentElement)),r=o-t,d=r<=h(c)*P+1,d?(u=!0,w?a.$$phase||e.$$phase?a.infiniteScroll():a.$apply(a.infiniteScroll):void 0):(s&&n.cancel(s),u=!1)},S=function(e,t){var i,a,l;return l=null,a=0,i=function(){var t;return a=(new Date).getTime(),n.cancel(l),l=null,e.call(),t=null},function(){var o,r;return o=(new Date).getTime(),r=t-(o-a),0>=r?(clearTimeout(l),n.cancel(l),l=null,a=o,e.call()):l?void 0:l=n(i,r,1)}},null!=i&&(y=S(y,i)),a.$on("$destroy",function(){return c.unbind("scroll",y),null!=k?(k(),k=null):void 0}),f=function(e){return P=parseFloat(e)||0},a.$watch("infiniteScrollDistance",f),f(a.infiniteScrollDistance),p=function(e){return w=!e,w&&u?(u=!1,y()):void 0},a.$watch("infiniteScrollDisabled",p),p(a.infiniteScrollDisabled),v=function(e){return _=e},a.$watch("infiniteScrollUseDocumentBottom",v),v(a.infiniteScrollUseDocumentBottom),r=function(e){return null!=c&&c.unbind("scroll",y),c=e,null!=e?c.bind("scroll",y):void 0},r($),a.infiniteScrollListenForEvent&&(k=e.$on(a.infiniteScrollListenForEvent,y)),d=function(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=angular.element(document.querySelector(e))),null!=e)return r(e);throw new Exception("invalid infinite-scroll-container attribute.")}},a.$watch("infiniteScrollContainer",d),d(a.infiniteScrollContainer||[]),null!=o.infiniteScrollParent&&r(angular.element(l.parent())),null!=o.infiniteScrollImmediateCheck&&(m=a.$eval(o.infiniteScrollImmediateCheck)),s=n(function(){return m?y():void 0},0)}}}])},{}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,i){i.config({scope:"youtube",api:{client:"youtube",version:"v3"},clientId:"971861197531"}),n.setPrefix("EchoesPlayer"),e.state("videos",{url:"/",template:"<youtube-videos></youtube-videos>"}),t.otherwise("/")}a.$inject=["$stateProvider","$urlRouterProvider","localStorageServiceProvider","GapiApiSetterProvider"];var l=e("angular"),o=i(l),r=e("angular-ui-router"),s=i(r),u=e("angular-animate"),c=i(u),d=e("angular-sanitize"),p=i(d),f=e("angular-ui-bootstrap"),v=i(f),y=e("angular-local-storage"),h=(i(y),e("./core")),m=i(h),g=e("./components/youtube-videos"),b=i(g),P=e("./components/loader"),w=i(P),S=e("./components/search-panel"),k=i(S),_=e("./components/youtube-player"),$=i(_),j=e("./components/now-playing"),x=i(j),M=e("./components/user-profile"),T=i(M),C=e("./components/drawer"),O=i(C),E=e("./components/playlist-editor"),I=i(E),Y=e("./components/youtube-video"),A=i(Y),V=e("./components/user-playlists"),q=i(V),L=e("./components/playlist-viewer"),U=i(L),D=e("./components/navigator"),F=i(D);o["default"].module("echoes",[s["default"],c["default"],p["default"],v["default"],"LocalStorageModule",m["default"],b["default"].name,w["default"].name,k["default"].name,x["default"].name,$["default"].name,T["default"].name,O["default"].name,I["default"].name,A["default"].name,q["default"].name,U["default"].name,F["default"].name]).config(a),o["default"].element(document).ready(function(){o["default"].bootstrap(document,["echoes"])})},{"./components/drawer":7,"./components/loader":8,"./components/navigator":11,"./components/now-playing":14,"./components/playlist-editor":29,"./components/playlist-viewer":33,"./components/search-panel":36,"./components/user-playlists":47,"./components/user-profile":50,"./components/youtube-player":53,"./components/youtube-video":63,"./components/youtube-videos":66,"./core":80,angular:"angular","angular-animate":"angular-animate","angular-local-storage":"angular-local-storage","angular-sanitize":"angular-sanitize","angular-ui-bootstrap":"angular-ui-bootstrap","angular-ui-router":"angular-ui-router"}],4:[function(e,t,n){"use strict";function i(e){function t(t,n,i){function a(){n.toggleClass(l,!e.opened()).toggleClass(o,e.opened())}var l=i.drawerClosed,o=i.drawerNotClosed;t.drawerOpened=e.opened,t.$watch("drawerOpened()",function(e,t){e!==t&&a(e)}),a()}var n={link:t,restrict:"A"};return n}i.$inject=["DrawerSettings"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],5:[function(e,t,n){"use strict";function i(){function e(){n=!n}function t(){return n}var n=!0,i={toggle:e,opened:t};return i}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],6:[function(e,t,n){"use strict";function i(e){function t(t,n,i){function a(){n.toggleClass(l,e.opened())}var l=i.drawerToggle;n.bind("click",function(n){n.preventDefault(),e.toggle(),l&&l.length&&a(),t.$apply()}),a()}var n={link:t,restrict:"A"};return n}i.$inject=["DrawerSettings"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],7:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./drawer-settings.service.js"),r=i(o),s=e("./drawer-toggle.component"),u=i(s),c=e("./drawer-closed.component"),d=i(c);n["default"]=l["default"].module("drawer",["app.core"]).factory("DrawerSettings",r["default"]).directive("drawerToggle",u["default"]).directive("drawerClosed",d["default"])},{"./drawer-closed.component":4,"./drawer-settings.service.js":5,"./drawer-toggle.component":6,angular:"angular"}],8:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){var e={restrict:"E",replace:!0,template:s["default"],controller:c["default"],controllerAs:"vm",bindToController:!0,scope:{}};return e}Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("./loader.tpl.html"),s=i(r),u=e("./loader.ctrl.js"),c=i(u);n["default"]=o["default"].module("loader",["app.core"]).directive("loader",a)},{"./loader.ctrl.js":9,"./loader.tpl.html":10,angular:"angular"}],9:[function(e,t,n){"use strict";function i(e){var t=this;t.show=e.getIsSearching}i.$inject=["YoutubeSearch"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],10:[function(e,t,n){t.exports='<div id="loader" ng-show="vm.show()">\n	<i class="fa fa-refresh fa-spin fa-3x"></i>\n</div>'},{}],11:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){}Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("./navigator.component");n["default"]=o["default"].module("navigator",[]).config(a).directive(r.NavigatorComponent.directiveSelector,function(){return r.NavigatorComponent})},{"./navigator.component":12,angular:"angular"}],12:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.NavigatorComponent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./navigator.tpl.html"),r=i(o);n.NavigatorComponent={template:r["default"],selector:"navigator",directiveSelector:"navigator",controllerAs:"$ctrl",scope:{},bindToController:!0,replace:!0,restrict:"E",controller:function(){function e(t){a(this,e),this.views=[{label:"Explore",icon:"music",active:!0,ref:"explore",rules:["videos","","video","explore"]},{label:"My Playlists",icon:"heart",active:!1,ref:"myPlaylists",rules:["myPlaylists","playlist"]}],t.$on("$stateChangeStart",this.handleStateChange.bind(this))}return e.$inject=["$rootScope"],l(e,[{key:"handleStateChange",value:function(e,t,n,i,a,l){var o=t.name;this.views.forEach(function(e){return e.active=!1}),this.views.filter(function(e){return e.rules.some(function(e){return e===o})}).map(function(e){return e.active=!0})}}]),e}()}},{"./navigator.tpl.html":13}],13:[function(e,t,n){t.exports='<ul id="library-nav" class="nav nav-list nicer-ux library-nav navigator">\n	<li class="nav-header">Library</li>\n	<li ng-repeat="view in $ctrl.views"\n		ng-class="{ active: view.active }"\n		>\n		<a href="#{{:: view.ref }}">\n			<i class="fa fa-{{:: view.icon }}"></i> {{:: view.label }}\n		</a>\n	</li>\n</ul>'},{}],14:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){}Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("../../core"),s=i(r),u=e("./now-playing.component"),c=e("./now-playlist"),d=i(c),p=e("./now-playlist-filter"),f=i(p),v=e("./playlist-saver"),y=i(v),h=e("../youtube-player"),m=i(h);n["default"]=o["default"].module("now-playing",[s["default"],d["default"].name,f["default"].name,y["default"].name,m["default"].name]).config(a).directive(u.nowPlayingComponent.controllerAs,function(){return u.nowPlayingComponent})},{"../../core":80,"../youtube-player":53,"./now-playing.component":15,"./now-playlist":21,"./now-playlist-filter":17,"./playlist-saver":24,angular:"angular"}],15:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.nowPlayingComponent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./now-playing.tpl.html"),r=i(o);n.nowPlayingComponent={template:r["default"],scope:{},bindToController:!0,replace:!0,restrict:"E",controllerAs:"nowPlaying",controller:function(){function e(t,n){a(this,e),Object.assign(this,{YoutubePlayerSettings:t,UserPlaylists:n}),this.playlist=t.nowPlaylist,this.nowPlaying=t.nowPlaying,this.playlistSearch="",this.showPlaylistSaver=!1}return e.$inject=["YoutubePlayerSettings","UserPlaylists"],l(e,[{key:"removeVideo",value:function(e,t,n){e.stopPropagation(),this.YoutubePlayerSettings.remove(t,n)}},{key:"playVideo",value:function(e,t){this.nowPlaying.index=t,this.YoutubePlayerSettings.playVideoId(e)}},{key:"togglePlaylistSaver",value:function(){this.showPlaylistSaver=!this.showPlaylistSaver}},{key:"onPlaylistSave",value:function(){this.togglePlaylistSaver(),this.UserPlaylists.list()}},{key:"updateIndex",value:function(e,t){e.id===this.nowPlaying.media.id&&(this.nowPlaying.index=t)}},{key:"clearPlaylist",value:function(){this.YoutubePlayerSettings.clear()}},{key:"onFilterChange",value:function(e){this.playlistSearch=e}}]),e}()}},{"./now-playing.tpl.html":16}],16:[function(e,t,n){t.exports='<div class="sidebar-pane">\n	<now-playlist-filter\n		playlist="nowPlaying.playlist"\n		on-save="nowPlaying.togglePlaylistSaver(show)"\n		on-clear="nowPlaying.clearPlaylist()"\n		on-change="nowPlaying.onFilterChange(filter)"\n	></now-playlist-filter>\n	<section class="playlist-saver-container clearfix" ng-if="nowPlaying.showPlaylistSaver && nowPlaying.playlist.length > 0">\n		<playlist-saver class="col-md-12" tracks="nowPlaying.playlist"\n			on-cancel="nowPlaying.togglePlaylistSaver()"\n			on-save="nowPlaying.onPlaylistSave()"\n			></playlist-saver>\n	</section>\n	<now-playlist videos="nowPlaying.playlist"\n		now-playing="nowPlaying.nowPlaying"\n		filter="nowPlaying.playlistSearch"\n		on-select="nowPlaying.playVideo(video)"\n		on-remove="nowPlaying.removeVideo($event, video, $index)"\n		on-sort="nowPlaying.updateIndex($item, $indexTo)"\n	></now-playlist>\n</div>'},{}],17:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./now-playlist-filter.component.js"),r=i(o);n["default"]=l["default"].module("now-playlist-filter",["app.core"]).directive("nowPlaylistFilter",r["default"])},{"./now-playlist-filter.component.js":18,angular:"angular"}],18:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){var e={template:s["default"],controller:o["default"],controllerAs:"nowPlaylistFilter",scope:{playlist:"=",onSave:"&",onClear:"&",onChange:"&"},bindToController:!0,replace:!0,restrict:"E"};return e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var l=e("./now-playlist-filter.ctrl.js"),o=i(l),r=e("./now-playlist-filter.tpl.html"),s=i(r)},{"./now-playlist-filter.ctrl.js":19,"./now-playlist-filter.tpl.html":20}],19:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(){i(this,e),this.playlistSearch="",this.showPlaylistSaver=!1}return a(e,[{key:"clearPlaylist",value:function(e,t,n){this.onClear&&this.onClear()}},{key:"togglePlaylistSaver",value:function(){this.showPlaylistSaver=!this.showPlaylistSaver,this.onSave&&this.onSave({save:this.showPlaylistSaver})}},{key:"sortVideo",value:function(e,t){this.onSort&&this.onSort({$item:e,$indexTo:t})}},{key:"handleFilterChange",value:function(e){this.onChange&&this.onChange({filter:e})}}]),e}();n["default"]=l},{}],20:[function(e,t,n){t.exports='<h3 class="nav-header nav-header-fluid user-playlists-filter">\n	Now Playing \n	<button class="btn btn-link btn-xs btn-clear" title="Clear All Tracks In Now Playlist"\n		ng-disabled="!nowPlaylistFilter.playlist.length"\n		ng-click="nowPlaylistFilter.clearPlaylist()">\n		<span class="fa fa-trash-o"></span>\n	</button>\n	<button class="btn btn-link btn-xs btn-save" title="Save All These Tracks To A New Playlist"\n		ng-disabled="!nowPlaylistFilter.playlist.length"\n		ng-click="nowPlaylistFilter.togglePlaylistSaver()">\n		<span class="fa fa-cloud-upload"></span>\n	</button>\n	<div class="playlist-filter pull-right">\n		<i class="fa fa-search" ng-show="nowPlaylistFilter.playlistSearch.length === 0"></i>\n		<i class="fa fa-remove text-danger" ng-show="nowPlaylistFilter.playlistSearch.length" ng-click="nowPlaylistFilter.playlistSearch = \'\'"></i>\n		<input type="search" ng-model="nowPlaylistFilter.playlistSearch" ng-change="nowPlaylistFilter.handleFilterChange(nowPlaylistFilter.playlistSearch)">\n	</div>\n</h3>'},{}],21:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){}Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("angular-sortable-view/src/angular-sortable-view.js"),s=(i(r),e("./now-playlist.component"));n["default"]=o["default"].module("now-playlist",["app.core","angular-sortable-view"]).config(a).directive(s.NowPlaylistComponent.selector,function(){return s.NowPlaylistComponent})},{"./now-playlist.component":22,angular:"angular","angular-sortable-view/src/angular-sortable-view.js":1}],22:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.NowPlaylistComponent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./now-playlist.tpl.html"),r=i(o);n.NowPlaylistComponent={template:r["default"],selector:"nowPlaylist",controllerAs:"nowPlaylist",scope:{videos:"=",filter:"=",nowPlaying:"=",onSelect:"&",onRemove:"&",onSort:"&"},bindToController:!0,replace:!0,restrict:"E",controller:function(){function e(){a(this,e),this.showPlaylistSaver=!1}return l(e,[{key:"removeVideo",value:function(e,t,n){this.onRemove&&this.onRemove({$event:e,video:t,$index:n})}},{key:"selectVideo",value:function(e,t){this.onSelect&&this.onSelect({video:e,$index:t})}},{key:"sortVideo",value:function(e,t){this.onSort&&this.onSort({$item:e,$indexTo:t})}}]),e}()}},{"./now-playlist.tpl.html":23}],23:[function(e,t,n){t.exports='<section class="now-playlist" ng-class="{\n			\'transition-in\': nowPlaylist.videos.length,\n			\'slide-down\': nowPlaylist.showPlaylistSaver\n		}">\n	<ul class="nav nav-list xux-maker xnicer-ux"\n\n		sv-root sv-part="nowPlaylist.videos"\n		sv-on-sort="nowPlaylist.sortVideo($item, $indexTo)"\n		>\n		<li class="now-playlist-track"\n			ng-class="{ \'active\': nowPlaylist.nowPlaying.index === $index}"\n			ng-repeat="video in nowPlaylist.videos | filter:nowPlaylist.filter"\n			sv-element>\n			<a class="" title="{{:: video.snippet.title }}"\n				ng-click="nowPlaylist.selectVideo(video, $index)">\n				{{ $index + 1 }})\n				<img class="video-thumb" draggable="false" ng-src="{{:: video.snippet.thumbnails.default.url }}" sv-handle title="Drag to sort">\n				<span class="video-title">{{:: video.snippet.title }}</span>\n				<span class="badge badge-info">{{:: video.time }}</span>\n				<span class="label label-danger ux-maker remove-track" title="Remove From Playlist"\n					ng-click="nowPlaylist.removeVideo($event, video, $index)"><i class="fa fa-remove"></i></span>\n			</a>\n		</li>\n	</ul>\n</section>'},{}],24:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./playlist-saver.component.js"),r=i(o),s=e("./playlist-saver-settings.srv.js"),u=i(s);n["default"]=l["default"].module("playlist-saver",["app.core"]).service("PlaylistSaverSettings",u["default"]).directive("playlistSaver",r["default"])},{"./playlist-saver-settings.srv.js":25,"./playlist-saver.component.js":26,angular:"angular"}],25:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,n,a){i(this,e),Object.assign(this,{UserPlaylists:t,ApiPlaylists:n,$q:a}),this.playlist={title:"",id:"",description:""},this.index=0,this.totalTracks,this.defer,this.tracks}return e.$inject=["UserPlaylists","ApiPlaylists","$q"],a(e,[{key:"save",value:function(e){var t=this,n={part:"snippet,contentDetails",resource:{snippet:{title:this.playlist.title,description:this.playlist.description||""}}};return this.ApiPlaylists.insert(n).then(function(n){return t.playlist.id=n.result.id,t.addTracks(e)})}},{key:"addTracks",value:function(e){return this.defer=$q.defer(),this.tracks=e,this.index=0,this.totalTracks=e.length,this.addTrack(e[0]),defer.promise}},{key:"addTrack",value:function(e){function t(e){return this.index++,this.index<this.totalTracks?this.addTrack(this.tracks[this.index]):(this.defer.resolve(this.playlist.id),this.reset(),e)}function n(e){return this.defer.reject(e),e}return this.UserPlaylists.addToPlaylist(this.playlist.id,e).then(t,n)}},{key:"reset",value:function(){this.playlist.id="",this.playlist.title="",this.playlist.description=""}}]),e}();n["default"]=l},{}],26:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){var e={template:s["default"],controller:o["default"],controllerAs:"playlistSaver",bindToController:!0,restrict:"E",replace:!0,scope:{onSave:"&?",onCancel:"&?",tracks:"="}};return e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var l=e("./playlist-saver.ctrl.js"),o=i(l),r=e("./playlist-saver.tpl.html"),s=i(r)},{"./playlist-saver.ctrl.js":27,"./playlist-saver.tpl.html":28}],27:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,n){i(this,e),this.$scope=t,this.playlist=n.playlist,this.inSaveMode=!1}return e.$inject=["$scope","PlaylistSaverSettings"],a(e,[{key:"save",value:function(){function e(e){this.onSave(e),this.inSaveMode=!1,this.$scope.$apply()}function t(e){console.log("failed to save tracks to playlist",e)}this.inSaveMode=!0,this.PlaylistSaverSettings.save(this.tracks).then(e,t)}}]),e}();n["default"]=l},{}],28:[function(e,t,n){t.exports='<div class="playlist-saver">\n	<div class="col-md-12">\n		<aside class="title">New Playlist For {{ playlistSaver.tracks.length }} Tracks</aside>\n	</div>\n	<div class="col-md-12 text-center">\n		<input type="text" ng-model="playlistSaver.playlist.title" placeholder="Type A Name" class="col-md-12">\n	</div>\n	<div class="col-md-12">\n		<button class="btn btn-xs btn-link" ng-click="playlistSaver.onCancel()">\n			cancel\n		</button>\n		<button class="btn btn-xs btn-primary btn-save" ng-click="playlistSaver.save()">\n			<span class="fa fa-circle-o-notch fa-spin" ng-show="playlistSaver.inSaveMode"></span> save\n		</button>\n	</div>\n</div>'},{}],29:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){e.state("addVideo",{url:"/add-video/:id",template:"<playlist-editor></playlist-editor>",
resolve:{video:["YoutubeVideoInfo","$stateParams","PlaylistEditorSettings",function(e,t,n){return e.list(t.id).then(function(e){return n.add(e[0]),e[0]})}]}})}a.$inject=["$stateProvider"],Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("angular-ui-router"),s=i(r),u=e("../../core"),c=i(u),d=e("./playlist-editor.component"),p=e("./playlist-editor.settings.srv"),f=i(p),v=e("angular-ui-bootstrap"),y=i(v);n["default"]=o["default"].module("playlist-editor",[c["default"],y["default"],s["default"]]).config(a).service("PlaylistEditorSettings",f["default"]).directive(d.playlistEditorComponent.controllerAs,function(){return d.playlistEditorComponent})},{"../../core":80,"./playlist-editor.component":30,"./playlist-editor.settings.srv":31,angular:"angular","angular-ui-bootstrap":"angular-ui-bootstrap","angular-ui-router":"angular-ui-router"}],30:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.playlistEditorComponent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./playlist-editor.tpl.html"),r=i(o);n.playlistEditorComponent={template:r["default"],restrict:"E",replace:!0,scope:{},bindToController:!0,controllerAs:"playlistEditor",controller:function(){function e(t,n,i,l,o){a(this,e);Object.assign(this,{PlaylistEditorSettings:t,UserPlaylists:n,GapiLoader:i,YoutubeUser:l,$window:o}),this.playlists=this.UserPlaylists.tracks,this.search="",this.showCreate=!1}return e.$inject=["PlaylistEditorSettings","UserPlaylists","GapiLoader","YoutubeUser","$window"],l(e,[{key:"add",value:function(e){e.inProcess=!0,this.UserPlaylists.addToPlaylist(e.id,this.PlaylistEditorSettings.getMedia()).then(function(t){200===t.status&&(e.contentDetails.itemCount++,e.inProcess=!1)})}},{key:"signIn",value:function(){var e=this,t={immediate:!1,loadClientApi:!1};return this.GapiLoader.auth(t).then(function(t){e.YoutubeUser.signIn(t),e.UserPlaylists.list()})}},{key:"create",value:function(){var e=this;return gapi.auth.getToken()?void this.UserPlaylists.createPlaylist(this.search,""):this.signIn().then(function(){return e.UserPlaylists.createPlaylist(e.search,"")})}},{key:"remove",value:function(e){return e.inProcess=!0,this.UserPlaylists.removePlaylist(e.id).then(function(t){return e.inProcess=!1})}},{key:"isPlaylistNameExists",value:function(){var e=this.playlists.map(function(e){return e.snippet.title.toLowerCase()}).join(" ");this.showCreate=-1===e.indexOf(this.search)}},{key:"hide",value:function(){this.$window.history.back()}}]),e}()}},{"./playlist-editor.tpl.html":32}],31:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,n){i(this,e),this.currentMedia,this.modalInstance,this.$modal=n}return e.$inject=["UserPlaylists","$uibModal"],a(e,[{key:"add",value:function(e){this.currentMedia=e}},{key:"getMedia",value:function(){return this.currentMedia}},{key:"hide",value:function(){this.modalInstance.dismiss("cancel")}},{key:"clearMedia",value:function(){this.currentMedia=!1}},{key:"visibility",value:function(){return this.isVisible}}]),e}();n["default"]=l},{}],32:[function(e,t,n){t.exports='<div class="playlists-viewer">\n	<div class="modal-header">\n		<button type="button" class="close" ng-click="playlistEditor.hide()" aria-hidden="true">&times;</button>\n		<div class="thumbnail">\n			<img ng-src="{{:: playlistEditor.PlaylistEditorSettings.getMedia().snippet.thumbnails.high.url }}" class="media-thumb">\n		</div>\n		<h3>Add To A Playlist:</h3>\n		<div class="video-title ellipsis">{{ playlistEditor.PlaylistEditorSettings.getMedia().snippet.title }}</div>\n		<form class="form-inline">\n			<input class="form-control" type="search" placeholder="find or create a playlist"\n				ng-model="playlistEditor.search" ng-model-options="{ debounce: 500 }"\n				ng-change="playlistEditor.isPlaylistNameExists()">\n			<button class="btn btn-success btn-sm add-btn" ng-show="playlistEditor.showCreate" ng-click="playlistEditor.create()">Create New</button>\n		</form>\n	</div>\n	<div class="modal-body">\n		<!-- <h3 class="sign-in-message">Please <a class="gsign-in" href="">sign in with your +google</a> to add videos to your playlists</h3> -->\n		<h5 class="title">Select a playlist to add the video to it</h5>\n		<ul class="list-unstyled playlists user-playlist">\n			<li ng-repeat="playlist in playlistEditor.playlists | filter:playlistEditor.search | orderBy:\'snippet.title\'">\n				<div class="user-playlist" href="#none" ng-click="playlistEditor.add(playlist)">\n					{{:: playlist.snippet.title }} <span ng-show="playlist.inProcess">Updating Playlist...</span>\n					<span class="badge badge-info">\n						{{ playlist.contentDetails.itemCount }}\n					</span>\n				</div>\n				<span class="badge badge-danger remove" ng-click="playlistEditor.remove(playlist)">\n					Remove\n				</span>\n			</li>\n		</ul>\n	</div>\n	<div class="modal-footer">\n		<button class="btn btn-primary" ng-click="playlistEditor.hide()">Close</button>\n	</div>\n</div>'},{}],33:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){e.state("playlist",{url:"/playlist/:playlistId/:backState",template:'<playlist-viewer videos="vm.videos" playlist="vm.playlist" back="{{:: vm.backState}}"></playlist-viewer>',controller:["videos","playlist","$stateParams",function(e,t,n){this.backState=n.backState,this.videos=e,this.playlist=t[0]}],controllerAs:"vm",resolve:{videos:l,playlist:o}})}function l(e,t,n,i){var a=e.playlistId;return i.isUserSignedIn()?t.getPlaylist(a):n.list(a)}function o(e,t){return t.list(e.playlistId)}a.$inject=["$stateProvider"],o.$inject=["$stateParams","YoutubePlaylistInfo"],l.$inject=["$stateParams","YoutubeVideoInfo","PlaylistInfo","YoutubeUser"],Object.defineProperty(n,"__esModule",{value:!0});var r=e("angular"),s=i(r),u=e("angular-ui-router"),c=i(u),d=e("../../core"),p=i(d),f=e("../playlist-editor"),v=i(f),y=e("./playlist-viewer.component");n["default"]=s["default"].module("playlist-viewer",[p["default"],c["default"],v["default"].name]).config(a).directive(y.PlaylistViewerComponent.directiveSelector,function(){return y.PlaylistViewerComponent})},{"../../core":80,"../playlist-editor":29,"./playlist-viewer.component":34,angular:"angular","angular-ui-router":"angular-ui-router"}],34:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PlaylistViewerComponent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./playlist-viewer.tpl.html"),r=i(o);n.PlaylistViewerComponent={template:r["default"],selector:"playlist-viewer",directiveSelector:"playlistViewer",controllerAs:"$ctrl",scope:{videos:"=",playlist:"=",back:"@"},bindToController:!0,replace:!0,restrict:"E",controller:function(){function e(t,n,i){a(this,e),Object.assign(this,{$state:t,YoutubePlayerSettings:n,PlaylistEditorSettings:i})}return e.$inject=["$state","YoutubePlayerSettings","PlaylistEditorSettings"],l(e,[{key:"playVideo",value:function(e){this.YoutubePlayerSettings.queuePlaylist(this.videos),this.YoutubePlayerSettings.playVideoId(e)}},{key:"playPlaylist",value:function(){this.playVideo(this.videos[0])}},{key:"queueVideo",value:function(e){this.YoutubePlayerSettings.queueVideo(e)}},{key:"queuePlaylist",value:function(e){this.YoutubePlayerSettings.queuePlaylist(e)}},{key:"addVideo",value:function(e){this.PlaylistEditorSettings.add(e),this.$state.go("addVideo",{id:e.id})}},{key:"goBack",value:function(){this.$state.go(this.back)}}]),e}()}},{"./playlist-viewer.tpl.html":35}],35:[function(e,t,n){t.exports='<div class="view-content youtube-results playlist-viewer">\n	<nav class="navbar col-md-12">\n		<span class="btn btn-navbar btn-link pull-left ux-maker sidebar-toggle" drawer-toggle="drawer-opened">\n			<i class="fa fa-bars"></i>\n		</span>\n\n		<h2>\n			<button class="btn btn-default"\n					ng-click="$ctrl.goBack()">\n				<i class="fa fa-chevron-left"></i> Back\n			</button>\n			{{ $ctrl.playlist.snippet.title }}\n		</h2>\n	</nav>\n\n	<div class="playlist-cover clearfix"\n		style="background-image: url({{ $ctrl.playlist.snippet.thumbnails.default.url }})">\n		<div class="col-md-2 playlist-thumbnail">\n			<img ng-src="{{ $ctrl.playlist.snippet.thumbnails.default.url }}"\n				class="" title="Play All"\n				ng-click="$ctrl.playVideo($ctrl.videos[0])">\n		</div>\n		<div class="actions col-md-10">\n			<h4>Total {{ $ctrl.videos.length}} videos</h4>\n			<button class="btn btn-default btn-lg ux-maker play-media bg-primary" title="Play All"\n				ng-click="$ctrl.playPlaylist()">\n				<i class="fa fa-play"></i>\n			</button>\n			<button class="btn btn-default btn-lg ux-maker play-media bg-primary"\n				title="Queue this playlist to now playlist"\n				ng-click="$ctrl.queuePlaylist($ctrl.videos)">\n				<i class="fa fa-share"></i>\n			</button>\n		</div>\n	</div>\n	<section class="videos">\n		<youtube-list\n			class="list-unstyled ux-maker youtube-items-container clearfix"\n			videos="$ctrl.videos"\n			on-select="$ctrl.playVideo(video)"\n			on-queue="$ctrl.queueVideo(video)"\n			on-add="$ctrl.addVideo(video)"\n		></youtube-list>\n	</section>\n</div>'},{}],36:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){}Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("./search-panel.component.js"),s=i(r),u=e("./search-filter-panel"),c=i(u);n["default"]=o["default"].module("search-panel",["app.core",c["default"].name]).config(a).directive("searchPanel",s["default"])},{"./search-filter-panel":41,"./search-panel.component.js":44,angular:"angular"}],37:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,n){i(this,e),this.YoutubeSearch=n,this.durations=["Any","Short (less then 4 minutes)","Medium (4-20 minutes)","Long (longer than 20 minutes)"],this.durationsMap=["","short","medium","long"]}return e.$inject=["$scope","YoutubeSearch"],a(e,[{key:"onDurationChange",value:function(e,t){this.YoutubeSearch.setType(this.YoutubeSearch.types.VIDEO),this.YoutubeSearch.setDuration(this.durationsMap[t]),this.YoutubeSearch.search()}},{key:"getSelectedDuration",value:function(){this.YoutubeSearch.getDuration()}}]),e}();n["default"]=l},{}],38:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){var e={template:s["default"],controller:o["default"],controllerAs:"vm",scope:{},bindToController:!0,replace:!0,restrict:"E"};return e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var l=e("./feed.filter.ctrl.js"),o=i(l),r=e("./feed.filter.tpl.html"),s=i(r)},{"./feed.filter.ctrl.js":39,"./feed.filter.tpl.html":40}],39:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t){i(this,e),Object.assign(this,{YoutubeSearch:t}),this.data={items:[{label:"Videos",icon:"film",value:"video"},{label:"Playlists",icon:"th-list",value:"playlist"}]};var n=this.YoutubeSearch.getFeedType();this.active=this.data.items.find(function(e){return e.value===n})}return e.$inject=["YoutubeSearch"],a(e,[{key:"setFeed",value:function(e){this.active=e,this.YoutubeSearch.setType(e.value),this.YoutubeSearch.search()}}]),e}();n["default"]=l},{}],40:[function(e,t,n){t.exports='<ul id="feed-filter" class="nav navbar-nav feed-filter nicer-ux">\n    <li class="feed-item"\n    	ng-repeat="feed in vm.data.items"\n    	ng-class="{\'active\': feed === vm.active}"\n    	ng-click="vm.setFeed(feed)">\n    	<a title="Explore {{:: feed.label}}" href="#explore"\n    		>\n    		<i class="fa fa-{{:: feed.icon}}"></i>\n    		{{:: feed.label}}\n    	</a>\n    </li>\n\n</ul>'},{}],41:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./duration.ctrl.js"),r=i(o),s=e("./feed.filter.component.js"),u=i(s),c=e("./presets"),d=i(c);n["default"]=l["default"].module("search-filter-panel",["app.core",d["default"].name]).controller("DurationCtrl",r["default"]).directive("feedFilter",u["default"])},{"./duration.ctrl.js":37,"./feed.filter.component.js":38,"./presets":42,angular:"angular"}],42:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./preset.ctrl.js"),r=i(o),s=e("../../../../core"),u=i(s);n["default"]=l["default"].module("presets",[u["default"],"LocalStorageModule"]).controller("PresetCtrl",r["default"])},{"../../../../core":80,"./preset.ctrl.js":43,angular:"angular"}],43:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,n){i(this,e),this.YoutubeSearch=n,this.preset=t,this.data={label:"Preset"},this.presets=t.items,this.selected=t.selected().index}return e.$inject=["preset","YoutubeSearch"],a(e,[{key:"updatePreset",value:function(e){this.YoutubeSearch.setPreset(e),this.YoutubeSearch.search()}}]),e}();n["default"]=l},{}],44:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){var e={template:s["default"],controller:o["default"],controllerAs:"vm",scope:{},bindToController:!0,replace:!0,restrict:"E"};return e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var l=e("./search-panel.ctrl.js"),o=i(l),r=e("./search-panel.tpl.html"),s=i(r)},{"./search-panel.ctrl.js":45,"./search-panel.tpl.html":46}],45:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,n,a,l){i(this,e),Object.assign(this,{$http:t,$q:n,$window:a,YoutubeSearch:l}),this.title="SearchCtrl",this.params=l.params,this.resetPageToken=l.resetPageToken,this.search=l.search}return e.$inject=["$http","$q","$window","YoutubeSearch"],a(e,[{key:"updateSearch",value:function(e,t,n){this.YoutubeSearch.search()}},{key:"complete",value:function(e){function t(t){var i=t[1].map(function(e){return e[0]}).sort();-1===i.indexOf(e)&&i.splice(1,0,e),n.resolve(i)}var n=this.$q.defer();this.$window.handleEchoesSuggest=t;var i={params:{hl:"en",ds:"yt",xhr:"t",client:"youtube",q:e,callback:"handleEchoesSuggest"}};this.$http.jsonp("http://suggestqueries.google.com/complete/search",i);return n.promise}}]),e}();n["default"]=l},{}],46:[function(e,t,n){t.exports='<div class="search-panel">\n	<!-- SEARCH FORM -->\n	<form class="navbar-form form-search navbar-left" id="media-explorer" ng-submit="vm.search()">\n		<div class="form-group">\n			<input placeholder="Explore Media" id="media-search" type="search" class="form-control" autocomplete="off"\n				ng-model="vm.params.q"\n				ng-model-options="{ debounce: 300 }"\n				ng-change="vm.resetPageToken()"\n				uib-typeahead="q for q in vm.complete($viewValue)"\n				typeahead-on-select="vm.updateSearch($item, $model, $label)"\n				typeahead-show-hint="true"\n				>\n			<button class="btn btn-transparent btn-submit" type="submit" title="search with echoes">\n				<i class="fa fa-search"></i>\n			</button>\n		</div>\n	</form>\n\n	<button type="button" class="navbar-toggle btn btn-primary" data-toggle="collapse" data-target="#header-menu">\n		<i class="fa fa-filter"></i>\n	</button>\n</div>'},{}],47:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){e.state("myPlaylists",{url:"/myPlaylists",template:"<user-playlists></user-playlists>"})}function l(e,t){return t.list(e.current.params.playlistId)}a.$inject=["$stateProvider"],l.$inject=["$route","YoutubePlaylistInfo"],Object.defineProperty(n,"__esModule",{value:!0});var o=e("angular"),r=i(o),s=e("angular-ui-router"),u=i(s),c=e("angular-animate"),d=i(c),p=e("../../core"),f=i(p),v=e("./user-playlists.component");n["default"]=r["default"].module("user-playlists",[f["default"],u["default"],d["default"]]).config(a).directive(v.UserPlaylistsComponent.controllerAs,function(){return v.UserPlaylistsComponent})},{"../../core":80,"./user-playlists.component":48,angular:"angular","angular-animate":"angular-animate","angular-ui-router":"angular-ui-router"}],48:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UserPlaylistsComponent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./user-playlists.tpl.html"),r=i(o);n.UserPlaylistsComponent={template:r["default"],selector:"user-playlists",controllerAs:"userPlaylists",scope:{},bindToController:!0,replace:!0,restrict:"E",controller:function(){function e(t,n,i,l,o){a(this,e),Object.assign(this,{YoutubePlayerSettings:n,YoutubeVideoInfo:l,YoutubeUser:o}),this.title="UserPlaylistsCtrl",this.playlists=i.tracks,this.search="",this.data=o.data,i.list()}return e.$inject=["$http","YoutubePlayerSettings","UserPlaylists","YoutubeVideoInfo","YoutubeUser"],l(e,[{key:"playPlaylist",value:function(e){this.YoutubeVideoInfo.getPlaylist(e.id).then(this.YoutubePlayerSettings.playPlaylist)}},{key:"isUserSignedIn",value:function(){return this.YoutubeUser.isUserSignedIn()}}]),e}()}},{"./user-playlists.tpl.html":49}],49:[function(e,t,n){t.exports='<div class="view-content youtube-results user-playlists">\n	<div class="col-md-10">\n		<h2 class="title">\n			<span class="btn btn-navbar btn-link pull-left ux-maker sidebar-toggle" drawer-toggle="drawer-opened">\n				<i class="fa fa-bars"></i>\n			</span>\n			My Playlists\n		</h2>\n	</div>\n	<user-profile class="navbar-right col-md-offset-2"></user-profile>\n	<div class="col-md-12">\n		<section class="col-md-6 search-form">\n			<input type="text" class="form-control"\n			ng-model="userPlaylists.search"\n			placeholder="find a playlist...">\n		</section>\n	</div>\n	<div ng-if="!userPlaylists.isUserSignedIn()" class="col-md-12 well text-center">\n		<a href="" class="sign-in btn btn-primary btn-lg"\n			google-sign-in>\n			<span class="fa fa-google-plus-square"></span>\n			Sign In\n		</a>\n		<p>to view your playlists</p>\n	</div>\n	<section class="videos-list">\n		<ul class="list-unstyled ux-maker youtube-items-container clearfix">\n			<youtube-playlist-item\n				ng-repeat="playlist in userPlaylists.playlists | filter:userPlaylists.search | orderBy:\'snippet.title\'"\n				video="playlist"\n				on-play="userPlaylists.playPlaylist(playlist)">\n			</youtube-playlist-item>\n		</ul>\n	</section>\n</div>'},{}],50:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./user-profile.component.js"),r=i(o);n["default"]=l["default"].module("user-profile",["app.core"]).directive("userProfile",r["default"])},{"./user-profile.component.js":51,angular:"angular"}],51:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(){var e={template:s["default"],scope:{},bindToController:!0,replace:!0,restrict:"E",controllerAs:"userProfile",controller:function(){function e(t,n,i){a(this,e),Object.assign(this,{GapiLoader:t,YoutubeUser:n,UserPlaylists:i}),this.data=n.data,n.isUserSignedIn()||this.signIn()}return e.$inject=["GapiLoader","YoutubeUser","UserPlaylists"],o(e,[{key:"signIn",value:function(e){var t=this;this.GapiLoader.auth(e).then(function(e){t.YoutubeUser.signIn(e),t.UserPlaylists.list()})}},{key:"signInDialog",value:function(){var e={immediate:!1,loadClientApi:!1};this.signIn(e)}},{key:"signOut",value:function(){this.GapiLoader.signOut().then(this.YoutubeUser.signOut).then(this.UserPlaylists.clearPlaylists)}}]),e}()};return e}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n["default"]=l;var r=e("./user-profile.tpl.html"),s=i(r)},{"./user-profile.tpl.html":52}],52:[function(e,t,n){t.exports='<ul class="nav navbar-nav user-profile"\n	ng-class="{ \'user-signed-in\': userProfile.data.user.id }">\n\n	<li uib-dropdown class="dropdown">\n		<a uib-dropdown-toggle class="dropdown-toggle" data-toggle="dropdown" href="">\n			<i class="fa fa-user icon-user"\n				style="background-image: url({{ userProfile.data.user.snippet.thumbnails.high.url }})"></i>\n		</a>\n		<ul class="uib-dropdown-menu dropdown-menu dropdown-menu-fade">\n			<li>\n				<a href="http://github.com/orizens/echoes" target="_blank">\n				<i class="fa fa-github"></i> About Echoes</a>\n			</li>\n			<li>\n				<a href="http://github.com/orizens/echoes/issues" target="_blank">\n				<i class="fa fa-medkit"></i> Report An Issue</a>\n			</li>\n			<li>\n				<a href="http://github.com/orizens/echoes/issues" target="_blank">\n				<i class="fa fa-lightbulb-o"></i> Suggest A New Feature</a>\n			</li>\n			<li>\n				<a href="https://chrome.google.com/webstore/detail/echoes-player/aaenpaopfebcmdaegggjbkhaedlbbkde" target="_blank">\n				<i class="fa fa-google"></i> Echoes ChromeApp</a>\n			</li>\n			<!-- <li>\n				<a href="/updates/latest.json" target="_blank" class="action">\n				<i class="fa fa-cloud-upload"></i> Check For Updates</a>\n			</li> -->\n			<li ng-show="!userProfile.data.status.signed_in">\n				<a href="" class="sign-in"\n					ng-click="userProfile.signInDialog()">\n					<i class="fa fa-google-plus"></i> Sign In</a>\n			</li>\n			<li ng-show="userProfile.data.status.signed_in">\n				<a href="" class="sign-out"\n					ng-click="userProfile.signOut()">\n					<i class="fa fa-off"></i> Sign Out\n				</a>\n			</li>\n		</ul>\n	</li>\n</ul>'},{}],53:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){}Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("./media-info.service.js"),s=i(r),u=e("./youtube-player.component.js"),c=i(u),d=e("./youtube-player.api.srv.js"),p=i(d),f=e("./youtube-player.creator.srv.js"),v=i(f),y=e("./youtube.player.settings.srv.js"),h=i(y),m=e("./player.resizer.srv.js"),g=i(m),b=e("./player.resizer.component.js"),P=i(b);n["default"]=o["default"].module("youtube.player",["LocalStorageModule"]).config(a).factory("MediaInfoService",s["default"]).directive("youtubePlayer",c["default"]).service("YoutubePlayerApi",p["default"]).service("YoutubePlayerCreator",v["default"]).factory("YoutubePlayerSettings",h["default"]).factory("PlayerResizer",g["default"]).directive("playerResizer",P["default"])},{"./media-info.service.js":54,"./player.resizer.component.js":55,"./player.resizer.srv.js":56,"./youtube-player.api.srv.js":57,"./youtube-player.component.js":58,"./youtube-player.creator.srv.js":59,"./youtube.player.settings.srv.js":62,angular:"angular"}],54:[function(e,t,n){"use strict";function i(e){function t(t){e.list(t.id).then(n)}function n(e){e&&e.length&&(a.title=e[0].snippet.title,a.desc=i(e[0].snippet.description),a.thumb=e[0].snippet.thumbnails.high.url)}function i(e){var t=e.replace(/([0-9]*[0-9]*:*[0-9]*[0-9]:[0-9][0-9])/gim,'<a class="btn btn-mini play-time" time="$1">$1</a>\r',"gim");return t}var a={title:"No Media Is Playing Yet...",desc:"More information about the played video is displayed here...",thumb:""},l={info:a,parseTimeTracks:i,updateVideo:n,fetchInfo:t};return l}i.$inject=["YoutubeVideoInfo"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],55:[function(e,t,n){"use strict";function i(e){function t(t,n,i){t.$watch("isFullScreen()",function(e,t){e!==t&&n.toggleClass(i.playerResizer,e)}),t.isFullScreen=function(){return e.isFullScreen()}}t.$inject=["scope","element","attrs"];var n={link:t,restrict:"A"};return n}i.$inject=["PlayerResizer"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],56:[function(e,t,n){"use strict";function i(e){function t(t){if(a=t,!t)return l.height=i.height,void(l.width=i.width);var n=["sidebar"],o=-1===n.indexOf("sidebar")?$(".sidebar").outerWidth():0,r=e.innerHeight,s=e.innerWidth-o;l.height=r,l.width=s}function n(){return a}var i={height:270,width:300},a=!1,l={height:i.height,width:i.width,setFullScreen:t,isFullScreen:n};return l}i.$inject=["$window"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],57:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,n){var a=this;i(this,e),this.deferred=n.defer(),t.onYouTubeIframeAPIReady=function(){a.deferred.resolve()}}return e.$inject=["$window","$q"],a(e,[{key:"load",value:function(){var e=["http:","https:"],t="//www.youtube.com/iframe_api";e.indexOf(window.location.protocol)<0&&(t="http:"+t);var n=document.createElement("script");n.src=t;var i=document.getElementsByTagName("script")[0];return i.parentNode.insertBefore(n,i),this.deferred.promise}}]),e}();n["default"]=l},{}],58:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){function n(n,i,a){function l(e){n.$apply()}e.load().then(function(){t.createPlayer(a.playerId,n.vm.size.height,n.vm.size.width,"",l)})}n.$inject=["scope","element","attrs"];var i={template:s["default"],controller:o["default"],link:n,controllerAs:"vm",scope:{autoNext:"@",onVideoStart:"&"},bindToController:!0,replace:!0,restrict:"A"};return i}a.$inject=["YoutubePlayerApi","YoutubePlayerSettings"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var l=e("./youtube-player.ctrl.js"),o=i(l),r=e("./youtube-player.tpl.html"),s=i(r)},{"./youtube-player.ctrl.js":60,"./youtube-player.tpl.html":61}],59:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(){i(this,e)}return a(e,[{key:"createPlayer",value:function(e,t,n,i,a){return new YT.Player(e,{height:t,width:n,videoId:i,events:{onReady:angular.noop,onStateChange:a}})}}]),e}();n["default"]=l},{}],60:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,n,a,l){i(this,e),Object.assign(this,{YoutubePlayerSettings:t,PlayerResizer:n,MediaInfoService:a,$state:l}),this.video=t.nowPlaying,this.nowPlaylist=t.nowPlaylist,this.size=n,this.showPlayer=t.showPlayer,this.isFullScreen=!1,this.seek=t.getSeek,this.playNextTrack=t.playNextTrack,this.playPreviousTrack=t.playPreviousTrack,this.play=t.play,this.pause=t.pause,this.videoInfo=a.info}return e.$inject=["YoutubePlayerSettings","PlayerResizer","MediaInfoService","$state"],a(e,[{key:"togglePlayer",value:function(e){this.YoutubePlayerSettings.nowPlaying.showPlayer=e}},{key:"toggleFullScreen",value:function(){this.isFullScreen=!this.isFullScreen,this.PlayerResizer.setFullScreen(this.isFullScreen),this.YoutubePlayerSettings.setSize(this.size.height,this.size.width)}},{key:"addToPlaylist",value:function(){""!==this.video.mediaId&&this.$state.go("addVideo",{id:this.video.media.id})}},{key:"isPlaying",value:function(){return 1===this.YoutubePlayerSettings.getPlayerState()}},{key:"playlistIsEmpty",value:function(){return 0===this.YoutubePlayerSettings.nowPlaylist.length}},{key:"playlistHasTracks",value:function(){return this.YoutubePlayerSettings.nowPlaying.index>0&&!this.playlistIsEmpty()}},{key:"playlistHasOneTrack",value:function(){return 1===this.YoutubePlayerSettings.nowPlaylist.length}},{key:"seekToSeconds",value:function(e){var t=e.target.innerText,n=e.target.classList.contains("play-time");n&&this.YoutubePlayerSettings.seekToSeconds(t)}}]),e}();n["default"]=l},{}],61:[function(e,t,n){t.exports='<div class="youtube-player"\n	ng-class="{ \n		\'show-youtube-player\': vm.showPlayer(),\n		\'fullscreen\': vm.isFullScreen\n			}">\n	<div class="yt-player ux-maker">\n		<div id="gp-share" class="pull-left">\n			<button class="btn btn-danger"\n				socialshare\n				socialshare-provider="google+"\n				socialshare-text="Listening to {{ vm.video.media.snippet.title }}"\n				socialshare-hashtags="echotube, youtube video, nowlistening"\n				socialshare-url="http://echotu.be/#/video/{{ vm.video.mediaId }}">\n				<span class="fa fa-google-plus-square"></span>\n			</button>\n			<button class="btn btn-info"\n				socialshare\n				socialshare-provider="twitter"\n				socialshare-url="http://echotu.be/#/video/{{ vm.video.mediaId }}">\n				<span class="fa fa-twitter-square"></span>\n			</button>\n			<button class="btn btn-info"\n				socialshare\n				socialshare-provider="facebook"\n				socialshare-url="http://echotu.be/#/video/{{ vm.video.mediaId }}">\n				<span class="fa fa-facebook-square"></span>\n			</button>\n		</div>\n		<div id="player" class="ux-maker"></div>\n	</div>\n	\n	<div class="container-fluid">\n		\n		<ul class="navbar-nav nav youtube-toolbar nicer-ux clearfix">\n			\n			<li class="player-controls pull-left"\n				ng-class="{ \'yt-playing\': vm.isPlaying() }">\n				\n				<div class="btn-group">\n					<button title="show / hide"\n						ng-click="vm.togglePlayer(!vm.showPlayer())" \n						class="btn btn-default btn-lg navbar-btn show-player"><i class="fa fa-chevron-up"></i></button>\n							\n					<button title="maximize / minimize"\n						class="btn btn-default btn-lg navbar-btn fullscreen"\n						ng-click="vm.toggleFullScreen()"\n						><i class="fa fa-arrows-alt"></i></button>\n					\n							\n					<button title="play previous track"\n						class="btn btn-default btn-lg navbar-btn previous"\n						ng-click="vm.playPreviousTrack()"\n						ng-disabled="!vm.playlistHasTracks()">\n						<i class="fa fa-step-backward"></i></button>\n						\n					<button title="pause"\n						class="btn btn-default btn-lg navbar-btn pause"\n						ng-click="vm.pause()">\n						<i class="fa fa-pause"></i></button>\n						\n					<button title="play"\n						class="btn btn-default btn-lg navbar-btn play"\n						ng-click="vm.play()">\n						<i class="fa fa-play"></i></button>\n						\n					<button title="play next track"\n						class="btn btn-default btn-lg navbar-btn next" \n						ng-click="vm.playNextTrack()"\n						ng-disabled="vm.playlistIsEmpty() || vm.playlistHasOneTrack()"\n						><i class="fa fa-step-forward"></i></button>\n				</div>\n			</li>\n		</ul>\n\n		<ul class="navbar-nav nav">\n			<!-- create a drop up like duration for actions -->\n			<li uib-dropdown class="dropdown dropup now-playing-actions pull-left">	\n				<div class="dropdown-toggle" uib-dropdown-toggle  data-toggle="dropdown" href="#" title="Actions For This Media">\n					<i class="fa fa-ellipsis-v"></i>\n				</div>\n				<ul class="uib-dropdown-menu dropdown-menu dropdown-menu-fade">\n					<li>\n						<button class="add-to-playlist btn btn-primary" title="Add The Current Media To A Playlist"\n							ng-click="vm.addToPlaylist()">\n							<i class="fa fa-plus"></i> Add To A Playlist\n						</button>\n					</li>\n				</ul>\n			</li>\n			\n			<li class="media-info pull-left">\n				<div class="current-track-info current-track-info-container pull-right">\n					<div uib-dropdown class="btn-group dropup navbar-btn">\n					  <button uib-dropdown-toggle class="btn dropdown-toggle" title="Currently Playing" data-toggle="dropdown">\n					  	<span class="yt-media-title ellipsis"><img ng-src="{{vm.videoInfo.thumb}}">{{vm.videoInfo.title}}</span>\n					    <span class="caret"></span>\n					  </button>\n					  <div class="uib-dropdown-menu dropdown-menu dropdown-menu-fade">\n					    	<div class="track-info" ng-click="vm.seekToSeconds($event)">\n					    		<div ng-bind-html="vm.videoInfo.desc"></div>\n					    		<br>\n					    		<img ng-src="{{ vm.videoInfo.thumb }}" alt="Media Thumbnail">\n					    	</div>\n					  </div>\n					</div>\n				</div>\n			</li>\n		</ul>\n\n		<ul class="nav navbar-nav navbar-right social-badges">\n			<li class="social-badge">\n				<div class="g-follow" data-annotation="bubble" data-height="15" data-href="//plus.google.com/u/0/111830310196328233893" data-rel="publisher"></div>\n			</li>\n			<li>\n			 	<a href="#" class="facebook-page brand"><iframe src="//www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fechoesplayer&amp;width=50&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;share=false&amp;height=21&amp;appId=683337491728445" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:80px; height:21px;" allowTransparency="true"></iframe></a>\n			</li>\n		</ul>\n	</div>\n</div>';
},{}],62:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){function a(){return _.mediaId}function l(e){_.mediaId=e.id,$=0,s(e),_.media=e,n.fetchInfo(e),_.showPlayer=!0,j.loadVideoById(e.id),j.playVideo()}function o(t){var n=T.every(function(e){return e.id!==t.id});n&&(T.push(t||{}),e.set(M.NOW_PLAYLIST,T))}function r(t){T.splice.apply(T,[T.length,0].concat(i(t))),e.set(M.NOW_PLAYLIST,T)}function s(e){T.some(function(t,n){return t.id===e.id?(_.index=n,!0):void 0})}function u(e,t){var n=angular.isNumber(t)?t:0,i=e[n];T.length=0,r(e),l(i)}function c(){return $}function d(e){var t=_.index+1,n=t===T.length;t=n?0:t,n&&angular.isDefined(e)&&e.stopOnLast||l(T[t])}function p(){var e=_.index;if(1!==T.length&&0!==T.length){var t=0===e?T.length-1:e-1;l(T[t])}}function f(t,n){T.splice(n,1),s(_.media),e.set(M.NOW_PLAYLIST,T)}function v(){T.length=0,e.set(M.NOW_PLAYLIST,T)}function y(e){j=e}function h(){return j}function m(){return C.playerState}function g(e,n,i,a,l){function o(e){var t=e.data;angular.isDefined(x)&&t===YT.PlayerState.ENDED&&C.playNextTrack({stopOnLast:!0}),t===YT.PlayerState.PAUSED&&(C.playerState=YT.PlayerState.PAUSED),t===YT.PlayerState.PLAYING&&(C.playerState=YT.PlayerState.PLAYING),l(t)}return j=t.createPlayer(e,n,i,a,o)}function b(e,t){j.setSize(t,e)}function P(){j&&j.playVideo()}function w(){j&&j.pauseVideo()}function S(e){function t(e){e=e.split(":");var t=3===e.length,n=t?60*parseInt(e[0],10)*60:0,i=t?e[1]:e[0],a=t?e[2]:e[1];return n+60*parseInt(i,10)+parseInt(a,10)}e=t(e),!Number.isNaN(e)&&angular.isNumber(e)&&j.seekTo(e,!0)}function k(){return _.showPlayer}var _={mediaId:"",index:0,media:{},showPlayer:!1},$=0,j={},x=!0,M={NOW_PLAYLIST:"nowPlaylist"},T=e.get(M.NOW_PLAYLIST)||[],C={getCurrentId:a,playVideoId:l,playPlaylist:u,nowPlaying:_,nowPlaylist:T,queueVideo:o,queuePlaylist:r,getSeek:c,seekToSeconds:S,playNextTrack:d,playPreviousTrack:p,remove:f,clear:v,setYTPlayer:y,getYTPlayer:h,getPlayerState:m,playerState:{},createPlayer:g,showPlayer:k,setSize:b,play:P,pause:w};return C}a.$inject=["localStorageService","YoutubePlayerCreator","MediaInfoService"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a},{}],63:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){e.state("video",{url:"/video/:id",template:'<youtube-video video="$ctrl.video"></youtube-video>',controller:["video",function(e){this.video=e}],controllerAs:"$ctrl",resolve:{video:["YoutubeVideoInfo","$stateParams",function(e,t){return e.list(t.id).then(function(e){return e[0]})}]}})}a.$inject=["$stateProvider"],Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("angular-ui-router"),s=i(r),u=e("../../core"),c=i(u),d=e("./youtube-video.component");n["default"]=o["default"].module("youtube-video",[c["default"],s["default"]]).config(a).directive(d.YoutubeVideoComponent.selector,function(){return d.YoutubeVideoComponent})},{"../../core":80,"./youtube-video.component":64,angular:"angular","angular-ui-router":"angular-ui-router"}],64:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.YoutubeVideoComponent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./youtube-video.tpl.html"),r=i(o);n.YoutubeVideoComponent={template:r["default"],selector:"youtubeVideo",controllerAs:"$ctrl",scope:{video:"="},bindToController:!0,replace:!0,restrict:"E",controller:function(){function e(t,n){a(this,e),Object.assign(this,{YoutubePlayerSettings:t,$state:n}),this.video.snippet.description=this.toHtml(this.video.snippet.description),this.video.time=this.getDuration(this.video.contentDetails.duration)}return e.$inject=["YoutubePlayerSettings","$state"],l(e,[{key:"queueVideo",value:function(){this.YoutubePlayerSettings.queueVideo(this.video)}},{key:"playVideo",value:function(){this.YoutubePlayerSettings.queueVideo(this.video),this.YoutubePlayerSettings.playVideoId(this.video)}},{key:"goBack",value:function(){this.$state.go("videos")}},{key:"getDuration",value:function(e){var t=e.split("PT")[1].replace(/(H|M)/g,":").replace("S",""),n=t.split(":");return n=n.map(function(e){return 1===e.length?"0"+e:e}),n.join(":")}},{key:"toHtml",value:function(e){var t=/\n/gm,n=/(http:\/\/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*))/gm;return e?e.replace(t,"<br>").replace(n,'<a href="$1" target="blank" title="opens in a new tab">$1</a>'):e}}]),e}()}},{"./youtube-video.tpl.html":65}],65:[function(e,t,n){t.exports='<div class="row view-content youtube-video ux-maker">\n	<div class="col-md-12"\n		>\n		<div class="panel panel-default">\n			<div class="panel-heading">\n				<h4>\n					<button class="btn btn-default"\n							ng-click="$ctrl.goBack()">\n						<i class="fa fa-chevron-left"></i> Back\n					</button>\n					{{:: $ctrl.video.snippet.title}}\n				</h4>\n			</div>\n\n			<div class="panel-body">\n				<div class="thumbnail">\n					<img ng-src="{{:: $ctrl.video.snippet.thumbnails.high.url}}" alt="{{:: $ctrl.video.snippet.title}}">\n\n					<section class="actions">\n						<button class="btn btn-default btn-lg ux-maker play-media bg-primary"\n							title="Play this video now"\n							ng-click="$ctrl.playVideo()">\n							<i class="fa fa-play"></i>\n						</button>\n						<button class="btn btn-default btn-lg ux-maker play-media bg-primary"\n							title="Queue this video to now playlist"\n							ng-click="$ctrl.queueVideo()">\n							<i class="fa fa-share"></i>\n						</button>\n					</section>\n				</div>\n				<div class="caption pull">\n					<span>{{:: $ctrl.video.snippet.publishedAt | date}}</span>\n					<span class="label label-info">{{:: $ctrl.video.time}}</span>\n					<div ng-bind-html=":: $ctrl.video.snippet.description"></div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'},{}],66:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){}a.$inject=["$stateProvider"],Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("angular-ui-router"),s=i(r),u=e("../../core"),c=i(u),d=e("./youtube-videos.component.js"),p=e("../playlist-editor"),f=i(p),v=e("ng-infinite-scroll");i(v);n["default"]=o["default"].module("youtube-videos",[c["default"],"youtube.player",s["default"],f["default"].name,"infinite-scroll"]).directive(d.YoutubeVideosComponent.selector,function(){return d.YoutubeVideosComponent})},{"../../core":80,"../playlist-editor":29,"./youtube-videos.component.js":67,angular:"angular","angular-ui-router":"angular-ui-router","ng-infinite-scroll":2}],67:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.YoutubeVideosComponent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./youtube-videos.tpl.html"),r=i(o);n.YoutubeVideosComponent={template:r["default"],selector:"youtubeVideos",controllerAs:"youtubeVideos",scope:{},bindToController:!0,restrict:"E",controller:function(){function e(t,n,i,l,o){a(this,e),Object.assign(this,{YoutubePlayerSettings:t,YoutubeSearch:n,PlaylistInfo:l,PlaylistEditorSettings:i,$state:o}),this.getFeedType=n.getFeedType,this.videos=n.items,this.searchMore=n.searchMore,this.playlistBackState="videos",n.resetPageToken(),this.videos.length||n.search()}return e.$inject=["YoutubePlayerSettings","YoutubeSearch","PlaylistEditorSettings","PlaylistInfo","$state"],l(e,[{key:"playVideo",value:function(e){this.YoutubePlayerSettings.queueVideo(e),this.YoutubePlayerSettings.playVideoId(e)}},{key:"playPlaylist",value:function(e){return this.PlaylistInfo.list(e.id).then(this.YoutubePlayerSettings.playPlaylist)}},{key:"addVideo",value:function(e){this.PlaylistEditorSettings.add(e),this.$state.go("addVideo",{id:e.id})}},{key:"queueVideo",value:function(e){this.YoutubePlayerSettings.queueVideo(e)}}]),e}()}},{"./youtube-videos.tpl.html":68}],68:[function(e,t,n){t.exports='<div class="view-content youtube-videos"\n	infinite-scroll="youtubeVideos.searchMore()"\n	infinite-scroll-distance="2"\n	>\n	<nav class="navbar col-xs-12" player-resizer="fullscreen">\n		<span class="btn btn-navbar btn-link pull-left ux-maker sidebar-toggle visible-xs-inline-block" drawer-toggle="drawer-opened">\n			<i class="fa fa-bars"></i>\n		</span>\n\n		<div class="navbar-header">\n			<search-panel></search-panel>\n		</div>\n\n		<div class="collapse navbar-collapse">\n			<ul class="navbar-nav nav" id="search-presets"\n				ng-controller="PresetCtrl as vm">\n				<e-dropdown label="Presets"\n					items="vm.presets"\n					on-select="vm.updatePreset(item)"\n					icon="tag"\n					selected="{{ vm.selected }}"\n				></e-dropdown>\n			</ul>\n\n			<ul class="navbar-nav nav" id="duration-picker"\n				ng-controller="DurationCtrl as vm">\n				<e-dropdown label="Duration"\n					items="vm.durations"\n					on-select="vm.onDurationChange(item, index)"\n					icon="time"\n					selected="0"\n				></e-dropdown>\n			</ul>\n\n			<user-profile class="navbar-right"></user-profile>\n		</div>\n		<feed-filter></feed-filter>\n	</nav>\n\n	<section ng-switch="youtubeVideos.getFeedType()" class="videos-list">\n\n		<div ng-switch-when="video">\n			<youtube-list videos="youtubeVideos.videos"\n				class="list-unstyled ux-maker youtube-items-container clearfix"\n				on-select="youtubeVideos.playVideo(video)"\n				on-queue="youtubeVideos.queueVideo(video)"\n				on-add="youtubeVideos.addVideo(video)"\n			></youtube-list>\n		</div>\n\n		<div ng-switch-when="playlist">\n			<ul class="list-unstyled ux-maker youtube-items-container clearfix">\n				<youtube-playlist-item\n					ng-repeat="video in youtubeVideos.videos track by video.id"\n					video="video"\n					on-play="youtubeVideos.playPlaylist(video)"\n					back="{{:: youtubeVideos.playlistBackState }}">\n				</youtube-playlist-item>\n			</ul>\n		</div>\n	</section>\n</div>'},{}],69:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){e.debugInfoEnabled(!1)}a.$inject=["$compileProvider"];var l=e("angular"),o=i(l);o["default"].module("echoes").config(a)},{angular:"angular"}],70:[function(e,t,n){t.exports='<li class="btn-group" uib-dropdown is-open="vm.status.isOpen">\n	<div class="dropdown-toggle" uib-dropdown-toggle ng-disabled="disabled">\n		<i class="glyphicon glyphicon-{{vm.icon}}"></i> {{vm.label}}\n		<span class="label label-primary">{{ vm.displayLabel }}</span>\n		<span class="caret"></span>\n	</div>\n	<ul class="uib-dropdown-menu dropdown-menu-fade dropdown-menu" role="menu" >\n		<li ng-repeat="item in vm.items"\n			ng-click="vm.handleClick(item, $index)"\n			ng-class="{\'active\': $index === vm.activeIndex}">\n			<a>{{item}}</a>\n		</li>\n	</ul>\n</li>'},{}],71:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){var e={restrict:"E",replace:!0,template:o["default"],bindToController:!0,scope:{label:"@",icon:"@",items:"=",onSelect:"&",selected:"@"},controllerAs:"vm",controller:function(){function e(e,n){t.activeIndex=n,t.displayLabel=t.items[t.activeIndex],t.onSelect({item:e,index:n})}var t=this;t.activeIndex=""!==this.selected?parseInt(this.selected):0,t.handleClick=e,t.status={isOpen:!1},t.displayLabel=t.items[t.activeIndex]}};return e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var l=e("./e-dropdown.tpl.html"),o=i(l)},{"./e-dropdown.tpl.html":70}],72:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./e-dropdown"),r=i(o),s=e("./youtube-components"),u=i(s);n["default"]=l["default"].module("core.components",[u["default"].name]).directive("eDropdown",r["default"])},{"./e-dropdown":71,"./youtube-components":73,angular:"angular"}],73:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./youtube-playlist"),r=i(o),s=e("./youtube-media"),u=i(s),c=e("./youtube-list"),d=i(c);n["default"]=l["default"].module("youtube.components",[]).directive("youtubePlaylistItem",r["default"]).directive("youtubeMedia",u["default"]).directive("youtubeList",d["default"])},{"./youtube-list":74,"./youtube-media":76,"./youtube-playlist":78,angular:"angular"}],74:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){function e(){function e(e){i.onSelect({video:e})}function t(e){i.onQueue({video:e})}function n(e){i.onAdd({video:e})}var i=this;i.playSelectedVideo=e,i.queueSelectedVideo=t,i.add=n}var t={restrict:"E",replace:!0,template:o["default"],scope:{videos:"=",onSelect:"&",onQueue:"&",onAdd:"&"},bindToController:!0,controllerAs:"vm",controller:e};return t}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var l=e("./youtube-list.tpl.html"),o=i(l)},{"./youtube-list.tpl.html":75}],75:[function(e,t,n){t.exports='<ul>\n	<!-- ng-repeat="video in videos | orderBy:\'snippet.publishedAt\':\'reverse\' | limitTo:50" -->\n	<youtube-media \n		ng-repeat="video in vm.videos track by $index"\n		video="video"\n		on-play="vm.playSelectedVideo(video)"\n		on-queue="vm.queueSelectedVideo(video)"\n		on-add="vm.add(video)">\n	</youtube-media>\n</ul>'},{}],76:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){function e(){function e(e){a.onPlay({video:e})}function t(e){a.onQueue({video:e})}function n(e){a.onAdd({video:e})}function i(e){a.showDesc=!e}var a=this;a.playVideo=e,a.queueVideo=t,a.add=n,a.showDesc=!1,a.toggle=i,a.isPlaying=!1}var t={restrict:"E",template:o["default"],replace:!0,scope:{onPlay:"&",onQueue:"&",onAdd:"&",video:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var l=e("./youtube.media.tpl.html"),o=i(l)},{"./youtube.media.tpl.html":77}],77:[function(e,t,n){t.exports='<li class="youtube-item card ux-maker col-sm-3 col-xs-12"\nng-class="{ \'show-description\': vm.showDesc}">\n	<section class="media-title">\n		\n		<div class="front face">\n			<div class="indicators clearfix">\n				\n				<span class="pull-left item-is-playing playing-{{:: vm.isPlaying }}">\n					<i class="fa fa-play"></i>Now Playing\n				</span>\n				\n			</div>\n			\n			<section class="dropdown share">	\n				<a class="dropdown-toggle" data-toggle="dropdown" href="">\n					<span class="fa fa-share-alt"></span>\n				</a>\n				<ul class="dropdown-menu dropdown-menu-fade">\n					<li>\n						<a class=""\n							socialshare\n							socialshare-provider="google+"\n							socialshare-hashtags="echotube, youtube video, nowlistening"\n							socialshare-url="http://echotu.be/#/video/{{:: vm.video.id }}">\n							<span class="fa fa-google-plus-square"></span> Google+\n						</a>\n					</li>\n					<li>\n						<a class=""\n							socialshare\n							socialshare-provider="twitter"\n							socialshare-url="http://echotu.be/#/video/{{:: vm.video.id }}">\n							<span class="fa fa-twitter-square"></span> Twitter\n						</a>\n					</li>\n					<li>\n						<a class=""\n							socialshare\n							socialshare-provider="facebook"\n							socialshare-url="http://echotu.be/#/video/{{:: vm.video.id }}">\n							<span class="fa fa-facebook-square"></span> Facebook\n						</a>\n					</li>\n				</ul>\n			</section>\n\n			<div rel="tooltip" class="media-thumb"\n				uib-tooltip="{{:: vm.video.snippet.title }}" tooltip-placement="bottom"\n				ng-click="vm.playVideo(vm.video)">\n				\n				<div class="thumbnail">\n					<img ng-src="{{:: vm.video.snippet.thumbnails.high.url}}">\n				</div>\n				\n				<button class="btn btn-default btn-lg ux-maker play-media">\n					<i class="fa fa-play"></i>\n				</button>\n			</div>\n\n			<section class="item-actions main-actions">\n				\n				<h4 class="title span11">\n					<a href=\'#/video/{{:: vm.video.id}}\' rel="tooltip" class="media-thumb ellipsis"\n						uib-tooltip="{{:: vm.video.snippet.title}}" tooltip-placement="bottom">\n						{{:: vm.video.snippet.title}}\n					</a>\n				</h4>\n\n				<section class="media-actions clearfix">\n					<button class="btn btn-link btn-xs add-to-playlist" title="Queue this video to now playlist"\n						ng-click="vm.queueVideo(vm.video)">\n						<i class="fa fa-share"></i> Queue\n					</button>\n					<button class="btn btn-link btn-xs add-to-playlist" title="Add this video to a playlist"\n						ng-click="vm.add(vm.video)">\n						<i class="fa fa-plus"></i> Add\n					</button>\n				</section>\n\n				<span\n					ng-click="vm.toggle(vm.showDesc)"\n					class="btn btn-default btn-xs media-desc " title="more info about this video">\n					<i class="fa fa-info-circle"></i>\n				</span>\n\n				<span class="item-action"><i class="fa fa-clock-o"></i>{{:: vm.video.time}}</span>\n\n				<span class="item-likes item-action" rel="tooltip" title="Number of Likes">\n					<i class="fa fa-thumbs-up"></i> {{:: vm.video.statistics.likeCount | number}}\n				</span>\n\n				<span class="item-views item-action" rel="tooltip" title="Number of Views">\n					<i class="fa fa-eye"></i> {{:: vm.video.statistics.viewCount | number}}\n				</span>\n\n			</section>\n		</div>\n\n		<div class="description back face">\n			<h4><a href=\'#/video/{{:: vm.video.id}}\' rel="tooltip" title="{{:: vm.video.snippet.title}}" class="media-thumb">{{:: vm.video.snippet.title}}</a></h4>\n			<div ng-bind-html="::vm.video.snippet.description | linky"></div>\n		</div>\n\n		<section class="item-actions close-desc">\n			<span\n				ng-click="vm.toggle(vm.showDesc)"\n				class="btn btn-default btn-xs media-desc " title="flip back...">\n					<i class="fa fa-times-circle"></i>\n				</span>\n		</section>\n\n	</section>\n\n</li>'},{}],78:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){function e(){function e(e){return"youtube#video"===i.video.id.kind}function t(e){return"youtube#channel"===i.video.id.kind}function n(e){i.loading=!0,this.onPlay({video:i.video}).then(function(e){i.loading=!1})}var i=this;i.isVideoItem=e,i.isChannelItem=t,i.playVideo=n,i.loading=!1}var t={restrict:"E",template:o["default"],replace:!0,scope:{onPlay:"&",video:"=",back:"@"},bindToController:!0,controller:e,controllerAs:"vm"};return t}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var l=e("./youtube.playlist.tpl.html"),o=i(l)},{"./youtube.playlist.tpl.html":79}],79:[function(e,t,n){t.exports='<li class="well youtube-item youtube-playlist-item col-md-3 ux-maker card">\n    \n    <section class="media-title front">\n        <div class="indicators clearfix">\n            \n            <span class="pull-left item-is-playing playing-<%= isPlaying %>">\n                <i class="icon-play"></i>Now Playing\n            </span>\n            \n            <i class="fa fa-spinner fa-spin fa-2x icon-loading" ng-show="vm.loading"></i>\n            <!-- <button class="pull-right btn btn-mini add-to-playlist" title="Add this video to a playlist">\n                <i class="icon-plus"></i> Add\n            </button> -->\n\n        </div>\n\n        <div class="media-thumb"\n            uib-tooltip="{{:: vm.video.snippet.title }}" tooltip-placement="bottom"\n            >\n            \n            <div class="thumbnail">\n              <img ng-src="{{:: vm.video.snippet.thumbnails.high.url }}">\n            </div>\n\n            <button class="btn btn-default btn-lg play-media" ng-click="vm.playVideo(video)">\n                <i class="glyphicon glyphicon-play"></i>\n            </button>\n\n        </div>\n\n        <section class="item-actions">\n            \n            <a href="#playlist/{{:: vm.video.id}}/{{:: vm.back }}">\n                <h4 class="title" uib-tooltip="{{:: vm.video.snippet.title }}" tooltip-placement="bottom">\n                    {{:: vm.video.snippet.title }}\n                </h4>\n                \n                <span class="item-action badge badge-info"><i class="icon-list"></i>  {{:: vm.video.contentDetails.itemCount }}</span> videos</span>\n            </a> \n\n        </section>\n        \n    </section>\n\n</li>\n'},{}],80:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./components"),r=i(o),s=e("./services"),u=i(s);n["default"]=l["default"].module("app.core",[r["default"].name,u["default"].name]).name},{"./components":72,"./services":82,angular:"angular"}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="AIzaSyBke2rzMLME-I6POOGYgGFzQZR2U6pYmjc";n["default"]=i},{}],82:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("angular-local-storage"),r=(i(o),e("./youtube.video.info.srv.js")),s=i(r),u=e("./playlist.info.srv.js"),c=i(u),d=e("./youtube.search.srv.js"),p=i(d),f=e("./youtube.playlists.info.srv.js"),v=i(f),y=e("./youtube-api"),h=i(y),m=e("./youtube.user.srv.js"),g=i(m),b=e("./constants.js"),P=i(b),w=e("./preset.service.js"),S=i(w);n["default"]=l["default"].module("core.services",[h["default"].name,"LocalStorageModule"]).factory("YoutubeVideoInfo",s["default"]).factory("PlaylistInfo",c["default"]).factory("YoutubePlaylistInfo",v["default"]).factory("YoutubeSearch",p["default"]).factory("YoutubeUser",g["default"]).factory("preset",S["default"]).constant("YOUTUBE_API_KEY",P["default"])},{"./constants.js":81,"./playlist.info.srv.js":83,"./preset.service.js":84,"./youtube-api":89,"./youtube.playlists.info.srv.js":91,"./youtube.search.srv.js":92,"./youtube.user.srv.js":93,"./youtube.video.info.srv.js":94,angular:"angular","angular-local-storage":"angular-local-storage"}],83:[function(e,t,n){"use strict";function i(e,t,n,i){function a(t){var n=e.defer();return r.params.playlistId=t,l(o,r).then(function(e){n.resolve(e)}),n.promise}function l(n,a){function l(){return t.get(n,a).then(function(e){return o=e.data.nextPageToken,e}).then(i.enrichItems).then(function(e){return Array.prototype.push.apply(r,e),o?(a.params.pageToken=o,l()):void s.resolve(r)})}var o,r=[],s=e.defer();return l(),s.promise}var o="https://www.googleapis.com/youtube/v3/playlistItems",r={params:{part:"snippet,contentDetails",key:n,playlistId:"",maxResults:50}},s={list:a};return s}i.$inject=["$q","$http","YOUTUBE_API_KEY","YoutubeVideoInfo"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],84:[function(e,t,n){"use strict";function i(e){function t(){u||(u=""),i(u)}function n(t,n){var a=t.replace(u,"").trim();return u=n.toLowerCase(),"all"===u&&(u=""),a+=" "+u.toLowerCase(),e.set(r.PRESET,u),i(u),a}function i(e){var t=s.indexOf(e);c=-1===t?0:t}function a(){return{label:u,index:c}}function l(){return o}var o,r={PRESET:"preset"},s=["all","full album","live"],u=e.get(r.PRESET),c=0,d={selected:a,update:n,items:s,getQuery:l};return t(),d}i.$inject=["localStorageService"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],85:[function(e,t,n){"use strict";function i(){function e(){return{scope:l,api:o,clientId:r}}function t(e){n(e.scope),i(e.api.client,e.api.version),a(e.clientId)}function n(e){var t="https://www.googleapis.com/auth/";l=e.replace(/ /gm,"").split(",").map(function(e){return t+e})}function i(e,t){o.client=e,o.version=t}function a(e){r=e}var l="",o={client:"",version:""},r="",s={config:t,$get:e};return s}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],86:[function(e,t,n){"use strict";function i(e,t,n,i,a,l){function o(){e.onGapiLoad=function(){t.$applyAsync(function(){d.resolve()})},function(){var e=["http:","https:"],t="//apis.google.com/js/client.js?onload=onGapiLoad";e.indexOf(window.location.protocol)<0&&(t="http:"+t);var n=document.createElement("script");n.src=t;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}()}function r(){return d.promise}function s(e){var t=e&&e.hasOwnProperty("immediate")?e.immediate:!0,a=n.defer();return r().then(function(){gapi.auth.authorize({client_id:f,scope:p,immediate:t},function(e){u(e),v?i.load().then(function(t){v=!1,a.resolve(e)}):a.resolve(e)})}),a.promise}function u(e){return e.error&&e.error.indexOf("fail")>-1}function c(){function e(e){return console.log("signout success",e),e}function t(t){return""===t.statusText?e(t):void console.log("singout failed")}var n="https://accounts.google.com/o/oauth2/revoke?token=",i=gapi.auth.getToken(),l=i?i.access_token:"",o=n+l;return a.get(o).then(e,t)}var d=n.defer(),p=l.scope,f=l.clientId,v=!0,y={load:r,auth:s,signOut:c};return o(),y}i.$inject=["$window","$rootScope","$q","GoogleClientApi","$http","GapiApiSetter"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],87:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("angular"),l=i(a),o=e("./gapi.loader.js"),r=i(o),s=e("./google.client.api.js"),u=i(s),c=e("./gapi.api.setter.js"),d=i(c);n["default"]=l["default"].module("google.api.loader",[]).factory("GapiLoader",r["default"]).factory("GoogleClientApi",u["default"]).provider("GapiApiSetter",d["default"])},{"./gapi.api.setter.js":85,"./gapi.loader.js":86,"./google.client.api.js":88,angular:"angular"}],88:[function(e,t,n){"use strict";function i(e,t){function n(e,n){return e=t.api.client,n=t.api.version,s[e]&&s[e].isLoading?o.promise:(a(e),gapi.client[e]?o.resolve():s[e].isLoading||(s[e].isLoading=!0,gapi.client.load(e,n,i)),o.promise)}function i(e){return gapi&&gapi.client?(console.log("client load success:",e),o.resolve(gapi.client),gapi.client):void console.log("gapi not loaded yet...",result)}function a(e){s[e]={isLoading:!1,hasBeenLoaded:!1}}function l(){return o.promise}var o=e.defer(),r={load:n,getClientApi:l},s={};return r}i.$inject=["$q","GapiApiSetter"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],89:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){function i(t){function i(t,n){return u=e.defer(),t=t||{},a(o["default"].copy(d,t),n),u.promise}function a(e,t){n.auth().then(function(){l(e,t).then(function(e){u.resolve(e.result)})})}function l(t,n){function i(){return e.when(gapi.client.youtube[c].list(t)).then(function(e){return l=e.result.nextPageToken,e}).then(n).then(function(e){var n=e;return Array.prototype.push.apply(a,e.length?e:e.result.items),l?(t.pageToken=l,i()):(e.result&&(e.result.items=a),e.length&&(n={items:a}),n)})}var a=[],l=void 0;return i()}function r(e){return gapi.client.youtube[c].insert(e).then(function(e){return e})}function s(t){var n={id:t};return e.when(gapi.client.youtube[c]["delete"](n))}var u,c=t.resourceName,d=(t.pages||0,{part:"snippet,contentDetails",maxResults:50,mine:!0}),p={list:i,params:d,insert:r,remove:s};return p}return i}a.$inject=["$q","$rootScope","GapiLoader"],Object.defineProperty(n,"__esModule",{value:!0});var l=e("angular"),o=i(l),r=e("./google.api.loader.mdl.js"),s=i(r),u=e("./user.playlists.service.js"),c=i(u);n["default"]=o["default"].module("youtube.api",[s["default"].name]).factory("uGapi",a).factory("UserPlaylists",c["default"].UserPlaylists).factory("ApiPlaylists",c["default"].ApiPlaylists)},{"./google.api.loader.mdl.js":87,"./user.playlists.service.js":90,angular:"angular"}],90:[function(e,t,n){"use strict";function i(e,t,n,i){function a(e){f.length=0,d.list().then(l,o,l)}function l(e){Array.prototype.push.apply(f,e.items)}function o(e){console.log(e)}function r(e,t){return delete p.params.mine,p.params.playlistId=e,p.list({},t)}function s(e,t){var n=i.defer(),a={part:"snippet",resource:{snippet:{playlistId:e,resourceId:{videoId:t.id,playlistId:e,kind:"youtube#video"}}}};return p.insert(a).then(n.resolve,n.reject),n.promise}function u(e){return d.remove(e).then(function(t){return f.some(function(t,n){t.id===e&&f.splice(n,1)}),t})}function c(e,t){var n={part:"snippet,contentDetails",resource:{snippet:{title:e,description:t||""}}};return d.insert(n).then(a)}var d=n,p=t({resourceName:"playlistItems",pages:"all"}),f=[],v={tracks:f,list:a,getPlaylist:r,addToPlaylist:s,removePlaylist:u,createPlaylist:c};return v}function a(e){return e({resourceName:"playlists",pages:"all"})}i.$inject=["$rootScope","uGapi","ApiPlaylists","$q"],a.$inject=["uGapi"],Object.defineProperty(n,"__esModule",{value:!0});var l={UserPlaylists:i,ApiPlaylists:a};n["default"]=l},{}],91:[function(e,t,n){"use strict";function i(e,t){function n(t){return a.params.id=t,e.get(i,a).then(function(e){return e.data.items})}var i="https://www.googleapis.com/youtube/v3/playlists",a={params:{part:"snippet,contentDetails",key:t,id:"",maxResults:50}},l={list:n};return l}i.$inject=["$http","YOUTUBE_API_KEY"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],92:[function(e,t,n){"use strict";function i(e,t,n,i,a,l){function o(t,i){function o(e){var t=w.params.type;h=e.data.nextPageToken;var n=e.data.items.map(function(e){return e.id[P[t]]}).join(","),i=S[t].list(n);return i}function r(e){f()===b.VIDEO&&e.forEach(function(e){e.time=n.toFriendlyDuration(e.contentDetails.duration)}),Array.prototype.push.apply(k,e)}function u(){_=!1}var c={params:{}};return i||s(),_=!0,t&&t!==w.params.q&&(w.params.pageToken=""),y(),w.params.q=t||w.params.q||"",a.set(g.QUERY,w.params.q),angular.extend(c.params,w.params),c.params.q+=" "+l.selected().label,e.get(m,c).then(o).then(r).then(u)}function r(){!_&&k.length&&(w.params.pageToken=h,$.search(w.params.q,!0))}function s(){k.length=0}function u(){w.params.pageToken=""}function c(e){w.params.type=e,u(),k.length=0}function d(e){return""===e||void 0===e?void delete w.params.videoDuration:void(w.params.videoDuration=e)}function p(e){l.update(w.params.q,e)}function f(){return w.params.type}function v(){return _}function y(){w.params.type===b.PLAYLIST&&delete w.params.videoDuration}var h,m="https://www.googleapis.com/youtube/v3/search",g={QUERY:"query"},b={VIDEO:"video",PLAYLIST:"playlist"},P={video:"videoId",playlist:"playlistId"},w={params:{part:"snippet,id",key:t,q:a.get(g.QUERY),maxResults:50,type:b.VIDEO}},S={video:n,playlist:i},k=[],_=!1,$={search:o,setType:c,setDuration:d,setPreset:p,items:k,types:b,params:w.params,getFeedType:f,getIsSearching:v,searchMore:r,resetPageToken:u};return $}i.$inject=["$http","YOUTUBE_API_KEY","YoutubeVideoInfo","YoutubePlaylistInfo","localStorageService","preset"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],93:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){function i(e){o["default"].copy(e,u)}function a(){return u.status.signed_in=!1,u.user={},gapi.auth.signOut()}function l(){return u.status&&u.status.signed_in===!0}function r(e){var n=e.status;return o["default"].copy(e.status,u.status),n.google_logged_in||n.signed_in?t.all([gapi.client.youtube.channels.list({part:"snippet,contentDetails",mine:!0})]).then(s,function(e){return console.log("not authorized",e)}):void 0}function s(e){return o["default"].copy(e[0].result.items[0],u.user),e}var u={status:{signed_in:!1},user:{},auth:{}},c={update:i,data:u,signOut:a,signIn:r,isUserSignedIn:l};return n.auth().then(function(e){o["default"].extend(u.status,e.status),o["default"].merge(u.auth,e)}),c}a.$inject=["$http","$q","GapiLoader"],Object.defineProperty(n,"__esModule",{
value:!0});var l=e("angular"),o=i(l);n["default"]=a},{angular:"angular"}],94:[function(e,t,n){"use strict";function i(e,t,n,i){function a(e){l(e);var n={params:Object.assign({},f.params)};return t.get(p,n).then(function(e){return e.data.items})}function l(e){f.params.id=e}function o(e){var t=e.split("PT")[1],n="";return t?(t=t.replace(/(H|M)/g,":").replace("S",""),n=t.split(":"),n=n.map(function(e){return 1===e.length?"0"+e:e})):(t=e.split("P")[1],t=t.replace("D",""),n=[24*parseInt(t),":00:00"]),n.join(":")}function r(t){var n=e.defer();return i.getPlaylist(t).then(function(e){return s(e.items).then(function(e){var t=[];e[0].forEach(function(e){t=t.concat(e)}),n.resolve(t)})}),n.promise}function s(t){function n(e,t){var n=50*t,i=50*(t+1);return u({items:e.slice(n,i)}).then(c).then(function(e){return l[t]=e,l})}for(var i=t.length,a=Math.ceil(i/50),l=[],o=[],r=0;a>r;r++)o.push(n(t,r));return e.all(o)}function u(e){var t=e.items.map(function(e){return e.snippet.resourceId.videoId}).join(",");return a(t)}function c(e){return e.forEach(function(e){e.time=o(e.contentDetails.duration)}),e}function d(e){return u(e.result||e.data).then(c)}var p="https://www.googleapis.com/youtube/v3/videos",f={params:{part:"snippet,contentDetails,statistics",key:n,id:"",maxResults:50}},v={list:a,setId:l,toFriendlyDuration:o,getPlaylist:r,enrichItems:d,enrichItemsInBulk:s};return v}i.$inject=["$q","$http","YOUTUBE_API_KEY","UserPlaylists"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}]},{},[3,69]);